[InterfaceAdminNg](../../README.md) / Разработка

## Соглашения

1. Когда вы делаете любые изменения в библиотеке или демо приложении, пожалуйста пишите короткое описание того, что было сделано в файл Changelog.md, расположенный в корневой директории проекта
2. Каждый раз, когда вы делаете какие-либо изменения в библиотеке и предыдущая версия уже была собрана на проде или devserver, к которому у вас нет доступа, чтобы вручную удалить старую версию библиотеки, пожалуйста меняйте минорную версию библиотеки. В противном случае, вы можете встретиться с проблемой различия хэшей.
3. Когда вы меняете код проекта, добавляйте необходимые изменения в документацию. Поддерживайте её в актуальном состоянии!
4. Если у вас есть, что добавить в демонстрационный проект, не раздумаывайте - добавляйте!
5. если у вас есть правки по документации, вносите их!

## Публикация библиотеки на сервер nexus

Для начала работы вам необходимы установленные Node.js v 10.9.0, yarn, npm. В дальнейшей документации, что у вас установлены все зависимости проекта.

1. Сперва, вам необходимо сбилдить библиотеку: 

    ```
    user@desktop:~/interface-admin-ng$ yarn build
    ```

2. Перейдите в папку сборки

    ```
    user@desktop:~/interface-admin-ng$ cd dist/iad-interface-admin
    ```

3. Залогиньтесь на сервер Nexus

    ```
    user@desktop:~/interface-admin-ng/dist/iad-interface-admin$ npm login --registry=http://37.1.83.184:84/repository/npm-sunrise/
    ```

4. Опубликуйте версию новую библиотеки (В примере добавлен тег alpha)
    
    ```
    user@desktop:~/interface-admin-ng/dist/iad-interface-admin$ npm publish --tag alpha
    ```

5. Разлогиньтесь с сервера Nexus

    ```
    user@desktop:~/interface-admin-ng/dist/iad-interface-admin$ npm logout --registry=http://37.1.83.184:84/repository/npm-sunrise/
    ```

6. Теперь можно использовать библиотеку как зависимость в вашем проекте. Наслаждайтесь!

## Настройка проекта, чтобы он цеплял библиотеку с сервера nexus

1. Залогиньтесь на сервер Nexus c логином и паролем пользователя, который может скачивать проекты. это действие приведёт к созданию в вашей домашней директории файла ~/.npmrc с токеном аутентификации _authToken

    ```
    user@desktop:~/your-project$ npm login --registry=http://37.1.83.184:84/repository/npm-group/
    ```
2. Откройте ~/.npmrc для редактирования и скопируйте в буфер обмена _authToken=SOME_AUTH_TOKEN

3. Создайте файл .npmrc в корне вашего проекта

4. Вставьте _authToken и зарегистрируйтесь следующим образом:

    ```
       registry=http://37.1.83.184:84/repository/npm-group/
       _authToken=SOME_AUTH_TOKEN
       always-auth=true
    ```
5. Если вы используете yarn create .yarnrc файл в вашем проекте, то в него нужно добавить следующую строчку: 

    ```
    registry "http://37.1.83.184:84/repository/npm-group/"
    
    ```

## Генерация кода

Запустите `ng g component component-name` чтобы сгенерировать новый компонент. Можно также использовать `ng g directive|pipe|service|class|guard|interface|enum|module`.

## Сборка

Чтобы собрать библиотеку interface-admin-ng запустите `yarn build`

Чтобы собрать демо приложение запустите `yarn run build:demo`

## Автоматизированная проверка качества кода

Чтобы проверить качество кода при помощпи Lint запустите `yarn lint`

## Запуск юнит-тестов (на момент написания документации юнит-тесты на приложение не написаны)

Запустите `yarn test:lib` чтобы запустить тесты библиотеки на [Karma](https://karma-runner.github.io).

Запустите `yarn test:demo` tчтобы запустить тесты демо приложения на [Karma](https://karma-runner.github.io).

## Запуск тестов end to end

Запустите `yarn e2e` чтобы запустить end to end тесты [Protractor](http://www.protractortest.org/).
