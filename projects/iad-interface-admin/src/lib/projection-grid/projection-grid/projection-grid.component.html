<div *ngIf="hasToolbar">
    <iad-table-toolbar
        [resetToggleableStatus]="resetToggleableStatus"
        [leftActions]="projection.actions"
        [filterActive]="showFilter"
        [filterEnabled]="filterEnabled"
        [ngClass]="{'disabled': disabled}"
        [rightAddonTemplate]="rightAddonTemplate"
        [searchActive]="showSearchPanel"
        (actionClicked)="onActionClicked($event)"
    ></iad-table-toolbar>
</div>
<ng-template ngFor let-tpl [ngForOf]="belowTheToolbarTemplates">
    <ng-template [ngTemplateOutlet]="tpl"
                 [ngTemplateOutletContext]="{$implicit: columns, groupSettingsKey: gridId}"></ng-template>
</ng-template>
<div [hidden]="!showSearchPanel" class="table-search-panel">
    <iad-table-search-panel
        [resetFilter]="resetFilter"
        (search)="onSearch($event)"
    ></iad-table-search-panel>
</div>
<p-confirmDialog
    *ngIf="projection"
    [key]="'delete#' + projection.code"
    [header]="'grid.dialog.delete.header'|translate"
    [message]="'grid.dialog.delete.message'|translate"
    [acceptLabel]="'grid.dialog.delete.confirm'|translate"
    [rejectLabel]="'grid.dialog.delete.reject'|translate"
></p-confirmDialog>
<!--
[allowUnSelectRow]="allowUnSelectRow"
[changeTableHeight]="changeTableHeight"
[defaultSortField]="defaultSortField" <---- NEW
[refreshOnInit]="refreshOnInit" <---- NEW
[enableInfiniteScroll]="enableInfiniteScroll" <---- NEW
[columns]="columns" <---- DEPRECATED ???
[filterType]="filterType" <---- [filterType]="'FILTER_BUILDER'"
[gridId]="gridId"
[paginator]="paginator"
[staticFrozenColumns]="staticFrozenColumns"
[staticFrozenRightColumns]="staticFrozenRightColumns"
[staticFrozenRightWidth]="staticFrozenRightWidth"
[staticFrozenWidth]="staticFrozenWidth"
[unSelectRow]="unSelectRow"
[updateVisibility]="updateVisibility" // Deprecated?
(onSettingChanged)="onSettingChanged($event)"
(selectionChange)="onSelectionChange($event)"
-->
<iad-base-grid
    [allowUnSelectRow]="allowUnSelectRow"
    [changeTableHeight]="changeTableHeight"
    [columns]="columns"
    [defaultSortField]="defaultSortField"
    [doTableAction]="doTableAction"
    [enableInfiniteScroll]="enableInfiniteScroll"
    [filter]="filter"
    [filterType]="filterType"
    [lazy]="lazy"
    [ngClass]="{'disabled': disabled, 'grid-with-toolbar': true}"
    [paginator]="paginator"
    [resetFilter]="resetFilter"
    [refreshGridConfig]="refreshGridConfig"
    [refreshOnInit]="refreshOnInit"
    [searchUrl]="searchUrl"
    [showFilter]="showFilter"
    [staticFrozenColumns]="staticFrozenColumns"
    [staticFrozenRightColumns]="staticFrozenRightColumns"
    [staticFrozenRightWidth]="staticFrozenRightWidth"
    [staticFrozenWidth]="staticFrozenWidth"
    [unSelectRow]="unSelectRow"
    [updateVisibility]="updateVisibility"
    [value]="value"
    (onSettingChanged)="onSettingChanged($event)"
    (selectionChange)="onSelectionChange($event)"
></iad-base-grid>
