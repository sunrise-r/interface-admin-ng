<form (ngSubmit)="onSubmit()" [formGroup]="form" class="content-flex" autocomplete="off">
    <fieldset class="content-flex">
        <ng-template ngFor let-child [ngForOf]="formInputGroup.children">
          <div [hidden]="!child[0].visible">
            <ng-container *ngIf="child.length === 1; then singleColumn; else multiColumn"></ng-container>
            <ng-template #singleColumn>
                <div [iadDynamicField]="child[0]" [context]="context" [inputComponents]="inputComponents" [group]="form" styleClass="form-row mb-2" (touched)="onTouched(child[0])"></div>
            </ng-template>
            <ng-template #multiColumn>
                <div class="form-row mb-2">
                    <div *ngFor="let grandChild of child; let i = index" class="col-12 col-lg-{{calculateColumns(child)}}">
                        <ng-container [iadDynamicField]="child[i]"  [context]="context" [inputComponents]="inputComponents" [group]="form" styleClass="form-row mb-2" (touched)="onTouched(child[i])"></ng-container>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </ng-template>
          </div>
        </ng-template>
    </fieldset>

    <div class="content-flex-footer">
        <div class="float-right">
            <button class="big-button" type="button" (click)="cancel()" [disabled]="sending">
                <span class="title clear">Отмена</span>
            </button>
            <button class="big-button" [disabled]="form.invalid || sending" type="submit">
                <span class="title save">Сохранить</span>
            </button>
        </div>
    </div>
</form>
